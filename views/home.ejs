<!DOCTYPE html>
<!--CU There-->
<html>
	<head>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>


        <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-NTW7PC5');</script>
        <!-- End Google Tag Manager -->
		
        <script>
            window.onload = function() {
                var domain = sessionStorage.getItem("domain");
                var company = sessionStorage.getItem("company");
                if (domain != null && company !== null){
                    $('#domain').val(domain);
                    $('#company').val(company);
                }

                
            }
        </script>


	
    </head>
    
	<body>
        <!-- Google Tag Manager (noscript) -->
        <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NTW7PC5"
        height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
        <!-- End Google Tag Manager (noscript) -->
        <form>
            <input type="text" id="domain" name="domain" style=
            "width: 100%;
            padding: 12px 20px;
            margin: 8px 0;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            font-family: 'Courier New', Courier, monospace;" placeholder="Domain"><br>
            <input type="text" id="company" name="Company" style=
            "width: 100%;
            padding: 12px 20px;
            margin: 8px 0;
            display: inline-block;
            border: 1px solid #ccc;
            border-radius: 4px;
            box-sizing: border-box;
            font-family: 'Courier New', Courier, monospace;" placeholder="Company"><br>
        </form>
        <button onclick="disable_button()"class="serve_notice" id="serve" style=
        "background-color: #505050;
        border-radius: 10px;
        border: none;
        color: white;
        padding: 10px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        font-family: 'Courier New', Courier, monospace;
        cursor: pointer;">Serve Notice</button><br>
        <button onclick="delete_cookies()" style=
        "background-color: #505050;
        border-radius: 10px;
        opacity: 100%;
        border: none;
        color: white;
        padding: 10px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        font-family: 'Courier New', Courier, monospace;
        cursor: pointer;">Delete cookie and reload</button><br>
        <button onclick="reload()" style=
        "background-color: #505050;
        border-radius: 10px;
        opacity: 100%;
        border: none;
        color: white;
        padding: 10px 32px;
        text-align: center;
        text-decoration: none;
        display: inline-block;
        font-size: 16px;
        margin: 4px 2px;
        font-family: 'Courier New', Courier, monospace;
        cursor: pointer;">Reload</button><br>
        <div style="padding-top: 20px;">
            <label for="auto_serve" style="color: black;font-weight: 500; font-family: 'Courier New', Courier, monospace;">Auto serves UCP notice upon refresh</label><br>
            <input type="radio" name="auto_serve" value="show" id="auto_serve_enabled">
            <label for="auto_serve" style="color: black;font-weight: 500; font-family: 'Courier New', Courier, monospace;">Enable</label>
            <input type="radio" name="auto_serve" value="hide"checked="checked" id="auto_serve_disabled">
            <label for="auto_serve" style="color: black;font-weight: 500; font-family: 'Courier New', Courier, monospace;">Disable</label>
        </div>

        <div id="notice_info" ></div>
        <span class="evidon-notice-link" style="float:left;"></span>






	</body>
    <script>

        function reload(){
            location.reload()
        }
        
        
        function disable_button(){
            //document.getElementById('serve').disabled = true
            //ndocument.getElementById('serve').style.opacity = "0%"
            sessionStorage.setItem("domain", $('#domain').val());
            sessionStorage.setItem("company", $('#company').val());

            setTimeout(function(){
            const element = document.getElementById("notice_info");
            const notice_info_p = document.createElement("p");
            const pre = document.createElement('pre')
            const title = document.createElement('b')
            const consent = document.createElement('b')
            
            try {
                    var vendors = ''
                    for([key,value] of Object.entries(window.evidon.notice.vendorList)){
                        vendors+= (value + '\n')
                    }

                    if(window.evidon.notice.consentIsGiven == true){
                        consent.appendChild(document.createTextNode('Consent Given: True\n\n'))
                    }
                    else if(window.evidon.notice.consentIsGiven != true){
                        consent.appendChild(document.createTextNode('Consent Given: False\n\n'))
                    }

                    title.appendChild(document.createTextNode('Vendors'))
                    notice_info_p.appendChild(document.createTextNode(vendors));
                    pre.appendChild(consent)
                    pre.appendChild(title)
                    pre.appendChild(notice_info_p)
                    element.appendChild(pre);

    
                
            } catch (error) {
                title.appendChild(document.createTextNode('Notice not found. Please enter correct values and/or a different notices'))
                pre.appendChild(title)
                element.appendChild(pre)
            }



        },3000)

        }

        function delete_cookies(){
            sessionStorage.clear()
            localStorage.clear()
            sessionStorage.setItem("domain", $('#domain').val());
            sessionStorage.setItem("company", $('#company').val());
            document.cookie.split(";").forEach(function(c) { document.cookie = c.replace(/^ +/, "").replace(/=.*/, "=;expires=" + new Date().toUTCString() + ";path=/"); });
            location.reload()
        }

        $(document).ready(function(){
            var radios = document.getElementsByName("auto_serve");
            var val = sessionStorage.getItem('auto_serve');
            for(var i=0;i<radios.length;i++){
                if(radios[i].value == val){
                radios[i].checked = true;
                }
            }
            $('input[name="auto_serve"]').on('change', function(){
                sessionStorage.setItem('auto_serve', $(this).val());
            
            });
        });

        

        
        
        var delayInMilliseconds = 500; //1 second

        setTimeout(function() {
            if(document.getElementById('auto_serve_enabled').checked == true){
                document.getElementById('serve').click()
            }
        }, delayInMilliseconds);

        

    </script>

</html>
